<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DYN_FORM</title>
</head>
<body>

    <form name="dForm1" action=" https://fe.it-academy.by/TestForm.php"></form>
    <form name="dForm2" action=" https://fe.it-academy.by/TestForm.php"></form>

    <script>
        'use strict'

        var formDef1=
            [
                {label:'Название сайта:',kind:'longtext',name:'sitename'},
                {label:'URL сайта:',kind:'longtext',name:'siteurl'},
                {label:'Посетителей в сутки:',kind:'number',name:'visitors'},
                {label:'E-mail для связи:',kind:'shorttext',name:'email'},
                {label:'Рубрика каталога:',kind:'combo',name:'division',
                    variants:[{text:'здоровье',value:1},{text:'домашний уют',value:2},{text:'бытовая техника',value:3}]},
                {label:'Размещение:',kind:'radio',name:'payment',
                    variants:[{text:'бесплатное',value:1},{text:'платное',value:2},{text:'VIP',value:3}]},
                {label:'Разрешить отзывы:',kind:'check',name:'votes'},
                {label:'Описание сайта:',kind:'memo',name:'description'},
                {caption:'Опубликовать',kind:'submit'},
            ];
        var formDef2=
            [
                {label:'Фамилия:',kind:'longtext',name:'lastname'},
                {label:'Имя:',kind:'longtext',name:'firstname'},
                {label:'Отчество:',kind:'longtext',name:'secondname'},
                {label:'Возраст:',kind:'number',name:'age'},
                {caption:'Зарегистрироваться',kind:'submit'},
            ];

        function formBuilder(formData, formElement){

            for (let item of formData){
                const labelTag = document.createElement('label');
                const inputTag = document.createElement('input');
                const brTag = document.createElement('br');

                if (item.kind.localeCompare('longtext') === 0) {
                    labelTag.innerHTML = item.label;
                    inputTag.type = 'text';
                    inputTag.name = item.name;
                    formElement.appendChild(labelTag);
                    formElement.appendChild(inputTag);
                    formElement.appendChild(brTag);
                }

                else if (item.kind.localeCompare('number') === 0){
                    labelTag.innerHTML = item.label;
                    inputTag.type = 'number';
                    inputTag.name = item.name;
                    formElement.appendChild(labelTag);
                    formElement.appendChild(inputTag);
                    formElement.appendChild(brTag);
                }

                else if (item.kind.localeCompare('shorttext') === 0){
                    labelTag.innerHTML = item.label;
                    inputTag.type = 'email';
                    inputTag.name = item.name;
                    formElement.appendChild(labelTag);
                    formElement.appendChild(inputTag);
                    formElement.appendChild(brTag);
                }

                else if (item.kind.localeCompare('combo') === 0){
                    let selectTag = document.createElement('select');

                    labelTag.innerHTML = item.label;
                    selectTag.name= item.name;

                    item.variants.forEach(varElement =>{
                        let optionTag = document.createElement('option');
                        optionTag.text = varElement.text;
                        optionTag.value = varElement.value;
                        selectTag.appendChild(optionTag)
                    })

                    formElement.appendChild(labelTag);
                    formElement.appendChild(selectTag);
                    formElement.appendChild(brTag);
                }

                else if (item.kind.localeCompare('radio') === 0){
                    labelTag.innerHTML = item.label;
                    formElement.appendChild(labelTag);

                    item.variants.forEach(varElement =>{
                        let inputCheckBox = document.createElement('input');
                        let labelCheckBox = document.createElement('label');
                        
                        inputCheckBox.type = 'radio';
                        inputCheckBox.name = varElement.name;
                        inputCheckBox.value = varElement.value;
                        formElement.appendChild(inputCheckBox);
                        labelCheckBox.innerHTML = varElement.text;
                        formElement.appendChild(labelCheckBox);
                    })

                    formElement.appendChild(brTag);
                }
            }
        }

        formBuilder(formDef1, document.forms['dForm1']);
    </script>

</body>
</html>